<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Android&#39;s keyboard messes with viewport dimension | Franklyn Roth&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="There is a little quirk on how the android soft-keyboard totally messes with css orientation rules. It’s probably a lesser known gotcha, but it tripped me up longer than I would have liked. Here I wil">
<meta property="og:type" content="article">
<meta property="og:title" content="Android's keyboard messes with viewport dimension">
<meta property="og:url" content="https://franklynroth.me/2017/03/19/Android-s-keyboard-messes-with-viewport-dimension/index.html">
<meta property="og:site_name" content="Franklyn Roth's Blog">
<meta property="og:description" content="There is a little quirk on how the android soft-keyboard totally messes with css orientation rules. It’s probably a lesser known gotcha, but it tripped me up longer than I would have liked. Here I wil">
<meta property="og:updated_time" content="2017-03-20T02:33:01.981Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Android's keyboard messes with viewport dimension">
<meta name="twitter:description" content="There is a little quirk on how the android soft-keyboard totally messes with css orientation rules. It’s probably a lesser known gotcha, but it tripped me up longer than I would have liked. Here I wil">
<meta name="twitter:creator" content="@franklynroth">
  
    <link rel="alternate" href="/atom.xml" title="Franklyn Roth&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-59009416-3', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Franklyn Roth&#39;s Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Webd eveloper problems and solutions. Open to freelance work.</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="Flux RSS"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Rechercher"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://franklynroth.me"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Android-s-keyboard-messes-with-viewport-dimension" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/19/Android-s-keyboard-messes-with-viewport-dimension/" class="article-date">
  <time datetime="2017-03-20T02:20:00.000Z" itemprop="datePublished">2017-03-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Android&#39;s keyboard messes with viewport dimension
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>There is a little quirk on how the android soft-keyboard totally messes with css orientation rules. It’s probably a lesser known gotcha, but it tripped me up longer than I would have liked. Here I will explain it and how to get around it.</p>
<p>I was targeting a very specific set of devices using a media query of <code>(orientation: portait)</code> whenever the user selected the search bar the on screen soft-keyboard would open up on the android tablet and it would then break my styles.</p>
<p>I reached out to my team and another developer noticed that when the height was changed it would also break the layout in the same manner as the keyboard popping up. I did some google fu and came accross two excellent links.</p>
<ul>
<li><p><a href="http://stackoverflow.com/questions/8883163/css-media-query-soft-keyboard-breaks-css-orientation-rules-alternative-solut" target="_blank" rel="external">stackoverflow-soft-keyboard-breaks-orientation</a></p>
</li>
<li><p><a href="https://web.archive.org/web/20141109111220/http://abouthalf.com/development/orientation-media-query-challenges-in-android-browsers" target="_blank" rel="external">android-bowser-orientation-change</a></p>
</li>
</ul>
<p>It ultimately has to do with how orientation is calculated as I was using <code>(orientation: portrait)</code>. The W3 calculates orientation portrait by checking if the height or width is greater, not the actual device orentation itself. So you could still have the device upright but if the height is less than the width you are in “landscape” mode.</p>
<p><a href="https://www.w3.org/TR/css3-mediaqueries/#orientation" target="_blank" rel="external">W3.org says</a><br><strong>The ‘orientation’ media feature is ‘portrait’ when the value of the ‘height’ media feature is greater than or equal to the value of the ‘width’ media feature. Otherwise ‘orientation’ is ‘landscape’.</strong></p>
<p>So when the keyboard pops up the height is less than the width and it breaks out of the <code>(orientation: portrait)</code> media query. iOS doesn’t have this issue because the keyboard is overlaid over the browser window vs resizing the actual browser.</p>
<p>So the solution is to stuff the styles that you want to still be applied in an <code>(orientation: landscape)</code> media query.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://franklynroth.me/2017/03/19/Android-s-keyboard-messes-with-viewport-dimension/" data-id="cj0iwdvv80001ucuts11ey9i2" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2017/03/06/Learning-react-resources/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Ancien</strong>
      <div class="article-nav-title">Resources I am using to learn react</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Nuage de mot-clés</h3>
    <div class="widget tagcloud">
      <a href="/tags/2016/" style="font-size: 13.33px;">2016</a> <a href="/tags/Book-Review/" style="font-size: 10px;">Book Review</a> <a href="/tags/accessibility/" style="font-size: 10px;">accessibility</a> <a href="/tags/api/" style="font-size: 10px;">api</a> <a href="/tags/basics/" style="font-size: 10px;">basics</a> <a href="/tags/book/" style="font-size: 13.33px;">book</a> <a href="/tags/bootstrap/" style="font-size: 10px;">bootstrap</a> <a href="/tags/border-box/" style="font-size: 10px;">border-box</a> <a href="/tags/css/" style="font-size: 16.67px;">css</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/html/" style="font-size: 10px;">html</a> <a href="/tags/javascript/" style="font-size: 10px;">javascript</a> <a href="/tags/jquery/" style="font-size: 10px;">jquery</a> <a href="/tags/less/" style="font-size: 10px;">less</a> <a href="/tags/motivation/" style="font-size: 10px;">motivation</a> <a href="/tags/naming/" style="font-size: 10px;">naming</a> <a href="/tags/oop/" style="font-size: 20px;">oop</a> <a href="/tags/pre-work/" style="font-size: 13.33px;">pre-work</a> <a href="/tags/preprocessor/" style="font-size: 10px;">preprocessor</a> <a href="/tags/sourcecontrol/" style="font-size: 10px;">sourcecontrol</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/05/">May 2013</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Articles récents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/03/19/Android-s-keyboard-messes-with-viewport-dimension/">Android&#39;s keyboard messes with viewport dimension</a>
          </li>
        
          <li>
            <a href="/2017/03/06/Learning-react-resources/">Resources I am using to learn react</a>
          </li>
        
          <li>
            <a href="/2016/11/23/So-good-they-cant-ignore-you/">So good they can&#39;t ignore you</a>
          </li>
        
          <li>
            <a href="/2016/11/23/Mastery/">Mastery</a>
          </li>
        
          <li>
            <a href="/2016/07/13/Naming-things/">Naming Things</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Franklyn Roth<br>
      Propulsé by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>